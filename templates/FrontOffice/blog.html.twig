<!doctype html>
<html class="no-js" lang="zxx">

<head>
    <meta charset="utf-8">
    <meta name="csrf-token-edit" content="{{ csrf_token('edit-comment') }}">
    <meta name="csrf-token-delete" content="{{ csrf_token('delete-comment') }}">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title>Directory HTML-5 Template </title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="shortcut icon" type="image/x-icon" href="{{ asset('FrontOffice/assets/img/favicon.ico') }}">

    <!-- CSS here -->
        <link rel="stylesheet" href="{{ asset('FrontOffice/assets/css/bootstrap.min.css') }}">
        <link rel="stylesheet" href="{{ asset('FrontOffice/assets/css/owl.carousel.min.css') }}">
        <link rel="stylesheet" href="{{ asset('FrontOffice/assets/css/slicknav.css') }}">
        <link rel="stylesheet" href="{{ asset('FrontOffice/assets/css/animate.min.css') }}">
        <link rel="stylesheet" href="{{ asset('FrontOffice/assets/css/magnific-popup.css') }}">
        <link rel="stylesheet" href="{{ asset('FrontOffice/assets/css/fontawesome-all.min.css') }}">
        <link rel="stylesheet" href="{{ asset('FrontOffice/assets/css/themify-icons.css') }}">
        <link rel="stylesheet" href="{{ asset('FrontOffice/assets/css/slick.css') }}">
        <link rel="stylesheet" href="{{ asset('FrontOffice/assets/css/nice-select.css') }}">
        <link rel="stylesheet" href="{{ asset('FrontOffice/assets/css/style.css') }}">
        <link rel="stylesheet" href="{{ asset('FrontOffice/assets/css/responsive.css') }}">
    <style>
    /* Updated Blog Section Design */
    .blog_area {
        background: #f8f9fa;
    }

    .blog_left_sidebar {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.05);
        padding: 30px;
    }

    /* Modern Post Card Design */
    .blog_item {
        background: #fff;
        border-radius: 12px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.08);
        margin-bottom: 30px;
        transition: transform 0.3s ease;
    }

    .blog_item:hover {
        transform: translateY(-3px);
    }

    .blog_item_img {
        border-radius: 12px 12px 0 0;
        overflow: hidden;
        position: relative;
    }

    .blog_item_img img {
        height: 400px;
        object-fit: cover;
        width: 100%;
    }

    .blog_details {
        padding: 30px;
    }

    .blog_details h2 {
        font-size: 1.8rem;
        font-weight: 700;
        margin-bottom: 1rem;
        color: #2d3748;
    }

    /* Modern Form Design */
    .add-post-form .card {
        border: none;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0,0,0,0.05);
    }

    .add-post-form .card-header {
        background: #fff;
        border-bottom: 1px solid #e2e8f0;
        padding: 1.5rem;
    }

    .add-post-form .card-header h4 {
        font-weight: 700;
        color: #2d3748;
        margin: 0;
    }

    .add-post-form .form-control {
        border: 1px solid #e2e8f0;
        border-radius: 8px;
        padding: 12px 15px;
        transition: border-color 0.3s ease;
    }

    .add-post-form .form-control:focus {
        border-color: #667eea;
        box-shadow: none;
    }

    /* Modern Comment Section */
    .comments-section {
        margin-top: 2rem;
        background: #f8f9fa;
        border-radius: 8px;
        padding: 20px;
    }

    .comment {
        background: #fff;
        border-radius: 8px;
        padding: 1.25rem;
        margin-bottom: 1.25rem;
        box-shadow: 0 1px 3px rgba(0,0,0,0.03);
    }

    .comment-avatar {
        width: 40px;
        height: 40px;
        border-radius: 50%;
        background: #667eea;
        display: flex;
        align-items: center;
        justify-content: center;
        color: white;
        font-weight: 600;
    }

    .comment-text {
        color: #4a5568;
        line-height: 1.6;
        font-size: 0.95rem;
    }

    /* Modern Interaction Buttons */
    .like-btn {
        background: #fff;
        border: 1px solid #e2e8f0;
        border-radius: 20px;
        padding: 8px 20px;
        transition: all 0.3s ease;
    }

    .like-btn:hover {
        background: #667eea;
        color: white;
    }

    .like-btn:hover i {
        color: white;
    }

    /* Sidebar Enhancements */
    .blog_right_sidebar {
        position: sticky;
        top: 100px;
    }

    .single_sidebar_widget {
        background: #fff;
        border-radius: 12px;
        padding: 25px;
        margin-bottom: 30px;
        box-shadow: 0 2px 8px rgba(0,0,0,0.05);
    }

    .widget_title {
        font-size: 1.25rem;
        font-weight: 700;
        margin-bottom: 1.5rem;
        color: #2d3748;
    }

    /* Search Widget */
    .search_widget .form-control {
        border-radius: 8px;
        padding: 12px 20px;
        border: 1px solid #e2e8f0;
    }

    .search_widget .btns {
        background: #667eea;
        color: white;
        border-radius: 0 8px 8px 0;
        padding: 12px 20px;
    }

    /* Category List */
    .cat-list li {
        margin-bottom: 0.75rem;
    }

    .cat-list a {
        color: #4a5568;
        transition: all 0.3s ease;
        padding: 8px 12px;
        border-radius: 6px;
    }

    .cat-list a:hover {
        background: #667eea;
        color: white;
        text-decoration: none;
    }

    /* Recent Posts */
    .post_item img {
        border-radius: 8px;
        width: 80px;
        height: 80px;
        object-fit: cover;
    }

    .post_item .media-body h3 {
        font-size: 0.95rem;
        font-weight: 600;
        color: #2d3748;
    }

    @media (max-width: 768px) {
        .blog_left_sidebar {
            padding: 20px;
        }
        
        .blog_item_img img {
            height: 250px;
        }
        
        .blog_details {
            padding: 20px;
        }
    }
</style>
</head>

<body>
    <!-- Preloader Start -->
    <div id="preloader-active">
        <div class="preloader d-flex align-items-center justify-content-center">
            <div class="preloader-inner position-relative">
                <div class="preloader-circle"></div>
                <div class="preloader-img pere-text">
                    <img src="{{ asset('FrontOffice/assets/img/logo/loder.jpg') }}" alt="">
                </div>
            </div>
        </div>
    </div>
    <!-- Preloader Start -->
    <header>
        <!-- Header Start -->
       <div class="header-area header-transparent">
            <div class="main-header">
               <div class="header-bottom  header-sticky">
                    <div class="container-fluid">
                        <div class="row align-items-center">
                            <!-- Logo -->
                            <div class="col-xl-2 col-lg-2 col-md-1">
                                <div class="logo">
                                  <a href="{{ path('home') }}"><img src="{{ asset('FrontOffice/assets/img/logo/logo.png') }}" alt=""></a>
                                </div>
                            </div>
                            <div class="col-xl-10 col-lg-10 col-md-8">
                                <!-- Main-menu -->
                                <div class="main-menu f-right d-none d-lg-block">
                                    <nav>
                                        <ul id="navigation">                                                                                                                                     
                                            <li><a href="{{ path('home') }}">Home</a></li>
                                            <li><a href="{{ path('about') }}">About</a></li>
                                            <li><a href="{{ path('contact') }}">Contact</a></li>
                                            <li><a href="{{ path('categori') }}">Categories</a></li>
                                            <li><a href="#">Page</a>
                                                <ul class="submenu">
                                                    <li><a href="{{ path('blog') }}">Blog</a></li>
                                                    <li><a href="{{ path('blog_details') }}">Blog Details</a></li>
                                                    <li><a href="{{ path('elements') }}">Elements</a></li>
                                                    <li><a href="{{ path('listing_details') }}">Listing Details</a></li>
                                                </ul>
                                            </li>
                                            <li class="add-list"><a href="{{ path('listing_details') }}"><i class="ti-plus"></i> Add Listing</a></li>
                                            {#<li class="login"><a href="{{ path('login') }}"><i class="ti-user"></i> Sign in</a></li>#}
                                            <li class="register"><a href="{{ path('register') }}"><i class="ti-pencil"></i> Register</a></li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>
                            <!-- Mobile Menu -->
                            <div class="col-12">
                                <div class="mobile_menu d-block d-lg-none"></div>
                            </div>
                        </div>
                    </div>
               </div>
            </div>
       </div>
        <!-- Header End -->
    </header>
<main>
    <!-- Hero Start-->
    <div class="hero-area2 slider-height2 hero-overly2 d-flex align-items-center">
        <div class="container">
            <div class="row">
                <div class="col-xl-12">
                    <div class="hero-cap text-center pt-50">
                        <h2>Welcome to Our Blog</h2>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!--Hero End -->

    <!-- Add Post Form -->
    <section class="blog_area section-padding">
        <div class="container">
            <div class="row">
                <!-- Blog Posts Section -->
                <div class="col-lg-8 mb-5 mb-lg-0">
                    <div class="blog_left_sidebar">
                        <!-- Redesigned Add Post Form -->
                        <div class="add-post-form mb-50">
                            <div class="card shadow-sm border-0">
                                <div class="card-header bg-white border-0 pb-0">
                                    <h4 class="mb-0"><i class="fa fa-pen mr-2 text-primary"></i>Share a New Post</h4>
                                </div>
                                <div class="card-body">
                                    {{ form_start(form, {'attr': {'class': 'form-contact contact_form', 'novalidate': 'novalidate'}}) }}
                                    <div class="form-row">
                                        <div class="form-group col-md-12">
                                            <label class="font-weight-bold">{{ form_label(form.title) }}</label>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text bg-light"><i class="fa fa-heading"></i></span>
                                                </div>
                                                {{ form_widget(form.title, {
                                                    'attr': {
                                                        'class': 'form-control' ~ (form.title.vars.errors|length ? ' is-invalid'),
                                                        'placeholder': "What's on your mind?"
                                                    }
                                                }) }}
                                                <div class="invalid-feedback">
                                                    {{ form_errors(form.title) }}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-md-12">
                                            <label class="font-weight-bold">{{ form_label(form.content) }}</label>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text bg-light"><i class="fa fa-align-left"></i></span>
                                                </div>
                                                {{ form_widget(form.content, {
                                                    'attr': {
                                                        'class': 'form-control' ~ (form.content.vars.errors|length ? ' is-invalid'),
                                                        'placeholder': 'Write something here...',
                                                        'rows': 5
                                                    }
                                                }) }}
                                                <div class="invalid-feedback">
                                                    {{ form_errors(form.content) }}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="form-group col-md-6">
                                            <label class="font-weight-bold">{{ form_label(form.category) }}</label>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text bg-light"><i class="fa fa-list"></i></span>
                                                </div>
                                                {{ form_widget(form.category, {
                                                    'attr': {
                                                        'class': 'form-control' ~ (form.category.vars.errors|length ? ' is-invalid'),
                                                        'placeholder': 'Select Category'
                                                    }
                                                }) }}
                                                <div class="invalid-feedback">
                                                    {{ form_errors(form.category) }}
                                                </div>
                                            </div>
                                        </div>
                                        <div class="form-group col-md-6">
                                            <label class="font-weight-bold">{{ form_label(form.imageFile) }}</label>
                                            <div class="input-group">
                                                <div class="input-group-prepend">
                                                    <span class="input-group-text bg-light"><i class="fa fa-image"></i></span>
                                                </div>
                                                {{ form_widget(form.imageFile, {
                                                    'attr': {
                                                        'class': 'form-control' ~ (form.imageFile.vars.errors|length ? ' is-invalid'),
                                                        'placeholder': 'Upload Image'
                                                    }
                                                }) }}
                                                <div class="invalid-feedback">
                                                    {{ form_errors(form.imageFile) }}
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="form-row">
                                        <div class="col text-right">
                                            <button type="submit" class="btn btn-primary px-4">
                                                <i class="ti-arrow-right mr-2"></i>Post
                                            </button>
                                        </div>
                                    </div>
                                    {{ form_end(form) }}
                                </div>
                            </div>
                        </div>
                        <!-- End Redesigned Add Post Form -->

                        {% for post in blog_posts %}
                            <article class="blog_item mb-5">
                                {% if post.imageUrl %}
                                    <div class="blog_item_img">
                                        <img class="card-img rounded-0" src="{{ asset('uploads/images/' ~ post.imageUrl) }}" alt="{{ post.title }}">
                                        <a href="#" class="blog_item_date">
                                            <h3>{{ post.postDate|date('d') }}</h3>
                                            <p>{{ post.postDate|date('M') }}</p>
                                        </a>
                                    </div>
                                {% endif %}
                                
                                <div class="blog_details position-relative">
                                    <!-- Three Dots Dropdown -->
                                    <div class="dropdown position-absolute" style="top: 10px; right: 10px;">
                                        <button class="btn btn-link p-0 text-muted" type="button" id="dropdownMenuButton{{ post.id }}" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false" style="font-size: 1.2rem;">
                                            <i class="fa fa-ellipsis-h"></i>
                                        </button>
                                        <div class="dropdown-menu dropdown-menu-right" aria-labelledby="dropdownMenuButton{{ post.id }}">
                                            <!-- Edit Option -->
                                            <button class="dropdown-item" data-toggle="modal" data-target="#editPostModal{{ post.id }}">
                                                <i class="fa fa-edit mr-2"></i>Edit
                                            </button>
                                            <!-- Delete Option: open modal -->
                                            <button type="button" class="dropdown-item text-danger" data-toggle="modal" data-target="#deletePostModal{{ post.id }}">
                                                <i class="fa fa-trash mr-2"></i>Delete
                                            </button>
                                        </div>
                                    </div>
                                    <!-- End Three Dots Dropdown -->

                                    <a class="d-inline-block" href="{{ path('app_blog_post_show', {'id': post.id}) }}">
                                        <h2 class="mb-3">{{ post.title }}</h2>
                                    </a>
                                    <p class="text-muted mb-4">{{ post.content|u.truncate(200, '...') }}</p>

                                    <div class="interaction-section">
                                        <div class="d-flex align-items-center mb-3">
                                            <form method="post" action="{{ path('app_blog_post_like', {'id': post.id}) }}" class="like-form mr-3">
                                                <button type="submit" class="like-btn">
                                                    <i class="fa fa-heart"></i>
                                                    <span class="like-count">{{ post.likes|length }}</span>
                                                </button>
                                            </form>
                                            <div class="text-muted">
                                                <i class="fa fa-comments mr-1"></i>{{ post.comments|length }} Comments
                                            </div>
                                        </div>

                                        <div class="comments-section">
                                            <h5 class="mb-4">Comments</h5>
                                            
                                            {% if post.comments|length > 0 %}
                                                {% for comment in post.comments %}
    <div class="comment" data-comment-id="{{ comment.id }}">
        <div class="comment-avatar">
            <i class="fa fa-user"></i>
        </div>
        <div class="comment-content">
            <div class="d-flex justify-content-between">
                <p class="comment-text mb-1">{{ comment.content }}</p>
                <div class="comment-actions">
                    <button class="btn btn-sm btn-link p-0 mr-2 edit-comment-btn">
                        <i class="fa fa-edit text-primary" style="font-size: 0.8rem;"></i>
                    </button>
                    <button class="btn btn-sm btn-link p-0 delete-comment-btn">
                        <i class="fa fa-trash text-danger" style="font-size: 0.8rem;"></i>
                    </button>
                </div>
            </div>
            <div class="comment-time">
                {{ comment.createdAt|date('d M Y, H:i') }}
            </div>
            <div class="edit-comment-form" style="display: none;">
                <div class="input-group mt-2">
                    <textarea class="form-control form-control-sm">{{ comment.content }}</textarea>
                    <div class="input-group-append">
                        <button class="btn btn-sm btn-primary save-edit-btn">Save</button>
                        <button class="btn btn-sm btn-secondary cancel-edit-btn">Cancel</button>
                    </div>
                </div>
            </div>
        </div>
    </div>
{% endfor %}
                                            {% else %}
                                                <div class="no-comments">
                                                    No comments yet. Be the first to share your thoughts!
                                                </div>
                                            {% endif %}
                                        </div>

<form method="post" action="{{ path('app_blog_post_comment', {'id': post.id}) }}" class="comment-form mt-4">
                                            <div class="form-group">
                                                <textarea name="comment" 
                                                          class="form-control" 
                                                          placeholder="Write your comment here..."
                                                          rows="3"
                                                          style="resize: none;"></textarea>
                                            </div>
                                            <button type="submit" class="btn btn-primary">
                                                Post Comment <i class="ti-arrow-right ml-2"></i>
                                            </button>
                                        </form>
                                    </div>
                                </div>

                                <!-- Edit Post Modal -->
                                <div class="modal fade" id="editPostModal{{ post.id }}" tabindex="-1" role="dialog" aria-labelledby="editPostModalLabel{{ post.id }}" aria-hidden="true">
                                    <div class="modal-dialog" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header">
                                                <h5 class="modal-title" id="editPostModalLabel{{ post.id }}">Edit Post</h5>
                                                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                {{ form_start(editForms[post.id], {
                                                    'action': path('app_blog_post_edit', {'id': post.id}),
                                                    'method': 'POST',
                                                    'attr': {'class': 'form-contact contact_form'}
                                                }) }}
                                                    <div class="form-group">
                                                        {{ form_label(editForms[post.id].title) }}
                                                        {{ form_widget(editForms[post.id].title, {'attr': {'class': 'form-control'}}) }}
                                                        {{ form_errors(editForms[post.id].title) }}
                                                    </div>
                                                    <div class="form-group">
                                                        {{ form_label(editForms[post.id].content) }}
                                                        {{ form_widget(editForms[post.id].content, {'attr': {'class': 'form-control', 'rows': 5}}) }}
                                                        {{ form_errors(editForms[post.id].content) }}
                                                    </div>
                                                    <div class="form-group">
                                                        {{ form_label(editForms[post.id].category) }}
                                                        {{ form_widget(editForms[post.id].category, {'attr': {'class': 'form-control'}}) }}
                                                        {{ form_errors(editForms[post.id].category) }}
                                                    </div>
                                                    <div class="form-group">
                                                        {{ form_label(editForms[post.id].imageFile) }}
                                                        {{ form_widget(editForms[post.id].imageFile, {'attr': {'class': 'form-control'}}) }}
                                                        {{ form_errors(editForms[post.id].imageFile) }}
                                                    </div>
                                                    <button type="submit" class="btn btn-success">Save Changes</button>
                                                {{ form_end(editForms[post.id]) }}
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- End Edit Post Modal -->

                                <!-- Delete Confirmation Modal -->
                                <div class="modal fade" id="deletePostModal{{ post.id }}" tabindex="-1" role="dialog" aria-labelledby="deletePostModalLabel{{ post.id }}" aria-hidden="true">
                                    <div class="modal-dialog modal-dialog-centered" role="document">
                                        <div class="modal-content">
                                            <div class="modal-header bg-danger text-white">
                                                <h5 class="modal-title" id="deletePostModalLabel{{ post.id }}"><i class="fa fa-exclamation-triangle mr-2"></i>Confirm Deletion</h5>
                                                <button type="button" class="close text-white" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                                </button>
                                            </div>
                                            <div class="modal-body">
                                                <p>Are you sure you want to delete the post "<strong>{{ post.title }}</strong>"?</p>
                                            </div>
                                            <div class="modal-footer">
                                                <button type="button" class="btn btn-secondary" data-dismiss="modal">Cancel</button>
                                                <form id="delete-form-{{ post.id }}" method="post" action="{{ path('app_blog_post_delete', {'id': post.id}) }}" style="display:inline;">
                                                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ post.id) }}">
                                                    <button type="submit" class="btn btn-danger">Delete</button>
                                                </form>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <!-- End Delete Confirmation Modal -->
                            </article>
                        {% else %}
                            <div class="alert alert-info">No posts available yet. Be the first to share!</div>
                        {% endfor %}
                    </div>
                </div>

                <!-- Sidebar Section -->
                <div class="col-lg-4">
                    <div class="blog_right_sidebar">
                        <!-- Search Widget -->
                        <aside class="single_sidebar_widget search_widget">
    <form method="get" action="{{ path('app_blog_post_index') }}">
        <div class="form-group">
            <div class="input-group mb-3">
                <input type="text" name="search" class="form-control" placeholder="Search Keyword"
                    value="{{ app.request.get('search') }}">
                {% if app.request.get('category') %}
                <input type="hidden" name="category" value="{{ app.request.get('category') }}">
                {% endif %}
                <div class="input-group-append">
                    <button class="btns" type="submit"><i class="ti-search"></i></button>
                </div>
            </div>
        </div>
    </form>
</aside>

                        <!-- Categories Widget -->
                        <aside class="single_sidebar_widget post_category_widget">
                            <h4 class="widget_title">Categories</h4>
                            <ul class="list cat-list">
                                {% for category in categories %}
                                    <li>
                                        <a href="{{ path('app_blog_post_index', {'category': category}) }}" class="d-flex">
                                            <p>{{ category }}</p>
                                        </a>
                                    </li>
                                {% endfor %}
                            </ul>
                        </aside>

                        <!-- Recent Posts Widget -->
                        <aside class="single_sidebar_widget popular_post_widget">
                            <h3 class="widget_title">Recent Posts</h3>
                            {% for recent in recent_posts %}
                                <div class="media post_item">
                                    {% if recent.imageUrl %}
                                        <img src="{{ asset('uploads/images/' ~ recent.imageUrl) }}" alt="post" style="width: 60px; height: 60px; object-fit: cover;">
                                    {% endif %}
                                    <div class="media-body">
                                        <a href="{{ path('app_blog_post_show', {'id': recent.id}) }}">
                                            <h3 style="font-size: 14px;">{{ recent.title }}</h3>
                                        </a>
                                        <p style="font-size: 12px;">{{ recent.postDate|date('d M Y') }}</p>
                                    </div>
                                </div>
                            {% endfor %}
                        </aside>
                    </div>
                </div>
            </div>
        </div>
    </section>
</main>
<footer>
    <!-- Footer Start-->
    <div class="footer-area">
        <div class="container">
           <div class="footer-top footer-padding">
                <div class="row justify-content-between">
                    <div class="col-xl-3 col-lg-4 col-md-4 col-sm-6">
                        <div class="single-footer-caption mb-50">
                            <div class="single-footer-caption mb-30">
                                <!-- logo -->
                                <div class="footer-logo">
                                    <a href="{{ path('home') }}"><img src="{{ asset('FrontOffice/assets/img/logo/logo2_footer.png') }}" alt=""></a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-lg-2 col-md-4 col-sm-6">
                        <div class="single-footer-caption mb-50">
                            <div class="footer-tittle">
                                <h4>All packages</h4>
                                <ul>
                                    <li><a href="#">Package-1</a></li>
                                    <li><a href="#">Package-2</a></li>
                                    <li><a href="#">Package-3</a></li>
                                    <li><a href="#">Custome</a></li>
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-2 col-lg-3 col-md-4 col-sm-6">
                        <div class="single-footer-caption mb-50">
                            <div class="footer-tittle">
                                <h4>Quick Link</h4>
                                <ul>
                                    <li><a href="#">Contact Us</a></li>
                                    <li><a href="#">About Us</a></li>
                                    <li><a href="#">News & Articles</a></li>
                                    <li><a href="#">Privacy Policy</a></li>     
                                </ul>
                            </div>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-3 col-md-4 col-sm-6">
                        <div class="single-footer-caption mb-50">
                            <div class="footer-tittle">
                                <h4>+1 514 648 256</h4>
                                <ul>
                                    <li><a href="#">youremail@gmail.com</a></li>
                                </ul>
                                <p>123 East 26th Street, Fifth Floor, New York, NY 10011</p>
                            </div>
                        </div>
                    </div>
                </div>
           </div>
            <div class="footer-bottom">
                <div class="row d-flex justify-content-between align-items-center">
                    <div class="col-xl-9 col-lg-9 ">
                        <div class="footer-copy-right">
                            <p><!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
Copyright &copy;
<script>document.write(new Date().getFullYear());</script> All rights reserved | This template is made with <i class="fa fa-heart" aria-hidden="true"></i> by <a href="https://colorlib.com" target="_blank">Colorlib</a>
<!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
                        </div>
                    </div>
                    <div class="col-xl-3 col-lg-3">
                        <!-- Footer Social -->
                        <div class="footer-social f-right">
                            <a href="#"><i class="fab fa-facebook-f"></i></a>
                            <a href="#"><i class="fab fa-twitter"></i></a>
                            <a href="#"><i class="fas fa-globe"></i></a>
                            <a href="#"><i class="fab fa-instagram"></i></a>
                        </div>
                    </div>
                </div>
           </div>
        </div>
    </div>
    <!-- Footer End-->
</footer>
<!-- Scroll Up -->
<div id="back-top" >
    <a title="Go to Top" href="#"> <i class="fas fa-level-up-alt"></i></a>
</div>

<!-- JS here -->
    <!-- All JS Custom Plugins Link Here here -->
    <script src="{{ asset('FrontOffice/assets/js/vendor/modernizr-3.5.0.min.js') }}"></script>
    <!-- Jquery, Popper, Bootstrap -->
    <script src="{{ asset('FrontOffice/assets/js/vendor/jquery-1.12.4.min.js') }}"></script>
    <script src="{{ asset('FrontOffice/assets/js/popper.min.js') }}"></script>
    <script src="{{ asset('FrontOffice/assets/js/bootstrap.min.js') }}"></script>
    <!-- Jquery Mobile Menu -->
    <script src="{{ asset('FrontOffice/assets/js/jquery.slicknav.min.js') }}"></script>

    <!-- Jquery Slick , Owl-Carousel Plugins -->
    <script src="{{ asset('FrontOffice/assets/js/owl.carousel.min.js') }}"></script>
    <script src="{{ asset('FrontOffice/assets/js/slick.min.js') }}"></script>
    <!-- One Page, Animated-HeadLin -->
    <script src="{{ asset('FrontOffice/assets/js/wow.min.js') }}"></script>
    <script src="{{ asset('FrontOffice/assets/js/animated.headline.js') }}"></script>
    
    <!-- Nice-select, sticky -->
    <script src="{{ asset('FrontOffice/assets/js/jquery.nice-select.min.js') }}"></script>
    <script src="{{ asset('FrontOffice/assets/js/jquery.sticky.js') }}"></script>
    <script src="{{ asset('FrontOffice/assets/js/jquery.magnific-popup.js') }}"></script>

    <!-- contact js -->
    <script src="{{ asset('FrontOffice/assets/js/contact.js') }}"></script>
    <script src="{{ asset('FrontOffice/assets/js/jquery.form.js') }}"></script>
    <script src="{{ asset('FrontOffice/assets/js/jquery.validate.min.js') }}"></script>
    <script src="{{ asset('FrontOffice/assets/js/mail-script.js') }}"></script>
    <script src="{{ asset('FrontOffice/assets/js/jquery.ajaxchimp.min.js') }}"></script>
    
    <!-- Jquery Plugins, main Jquery -->    
    <script src="{{ asset('FrontOffice/assets/js/plugins.js') }}"></script>
    <script src="{{ asset('FrontOffice/assets/js/main.js') }}"></script>
    <script>
$(document).ready(function() {
    // Handle like button clicks
    $('.like-form').on('submit', function(e) {
        e.preventDefault();
        const form = $(this);
        const url = form.attr('action');
        
        $.ajax({
            url: url,
            method: 'POST',
            success: function(data) {
                if(data.success) {
                    const likeCount = form.find('.like-count');
                    likeCount.text(data.likes);
                    
                    // Add visual feedback for the like
                    if(data.liked) {
                        form.find('i').addClass('text-danger');
                    }
                }
            }
        });
    });

    // Handle comment submission
    $('.comment-form').on('submit', function(e) {
        e.preventDefault();
        const form = $(this);
        const url = form.attr('action');
        const textarea = form.find('textarea');
        const content = textarea.val();
        
        if(!content.trim()) return; // Don't submit empty comments
        
        $.ajax({
            url: url,
            method: 'POST',
            data: { comment: content },
            success: function(data) {
                if(data.success) {
                    // Add new comment to the list
                    const commentHtml = `
                        <div class="comment">
                            <div class="comment-avatar">
                                <i class="fa fa-user"></i>
                            </div>
                            <div class="comment-content">
                                <p class="comment-text mb-1">${data.comment.content}</p>
                                <div class="comment-time">
                                    ${data.comment.createdAt}
                                </div>
                            </div>
                        </div>
                    `;
                    
                    // Find the comments-section within the current post
                    let commentsSection = form.closest('.interaction-section').find('.comments-section');
                    
                    // Remove "no comments" message if it exists
                    commentsSection.find('.no-comments').remove();
                    
                    // Append the new comment
                    commentsSection.append(commentHtml);
                    
                    // Clear the textarea
                    textarea.val('');
                    
                    // Update the comment count
                    const commentCountElement = form.closest('.interaction-section').find('.text-muted:contains("Comments")');
                    const currentCount = parseInt(commentCountElement.text().match(/\d+/)[0]) || 0;
                    commentCountElement.html(`<i class="fa fa-comments mr-1"></i>${currentCount + 1} Comments`);
                }
            }
        });
    });
});
</script>
<script>
$(document).ready(function() {
    // ---------- LIKE FUNCTIONALITY -----------
    $('.like-form').on('submit', function(e) {
        e.preventDefault();
        const form = $(this);
        const url = form.attr('action');
        
        $.ajax({
            url: url,
            method: 'POST',
            success: function(data) {
                if(data.success) {
                    const likeCount = form.find('.like-count');
                    likeCount.text(data.likes);
                    
                    // Add visual feedback for the like
                    if(data.liked) {
                        form.find('i').addClass('text-danger');
                    }
                }
            }
        });
    });

    // ---------- ADD COMMENT FUNCTIONALITY -----------
    $('.comment-form').on('submit', function(e) {
        e.preventDefault();
        const form = $(this);
        const url = form.attr('action');
        const textarea = form.find('textarea');
        const content = textarea.val();
        
        if(!content.trim()) return; // Don't submit empty comments
        
        $.ajax({
            url: url,
            method: 'POST',
            data: { comment: content },
            success: function(data) {
                if(data.success) {
                    // Add new comment to the list
                    const commentHtml = `
                        <div class="comment" data-comment-id="${data.comment.id}">
                            <div class="comment-avatar">
                                <i class="fa fa-user"></i>
                            </div>
                            <div class="comment-content">
                                <div class="d-flex justify-content-between">
                                    <p class="comment-text mb-1">${data.comment.content}</p>
                                    <div class="comment-actions">
                                        <button class="btn btn-sm edit-comment-btn">
                                            <i class="fa fa-edit text-primary"></i>
                                        </button>
                                        <button class="btn btn-sm delete-comment-btn">
                                            <i class="fa fa-trash text-danger"></i>
                                        </button>
                                    </div>
                                </div>
                                <div class="comment-time">
                                    ${data.comment.createdAt}
                                </div>
                                <div class="edit-comment-form" style="display: none;">
                                    <div class="input-group mt-2">
                                        <textarea class="form-control">${data.comment.content}</textarea>
                                        <div class="input-group-append">
                                            <button class="btn btn-sm btn-primary save-edit-btn">Save</button>
                                            <button class="btn btn-sm btn-secondary cancel-edit-btn">Cancel</button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                    
                    // Find the comments-section within the current post
                    let commentsSection = form.closest('.interaction-section').find('.comments-section');
                    
                    // Remove "no comments" message if it exists
                    commentsSection.find('.no-comments').remove();
                    
                    // Append the new comment
                    commentsSection.append(commentHtml);
                    
                    // Clear the textarea
                    textarea.val('');
                    
                    // Update the comment count
                    const commentCountElement = form.closest('.interaction-section').find('.text-muted:contains("Comments")');
                    const currentCount = parseInt(commentCountElement.text().match(/\d+/)[0]) || 0;
                    commentCountElement.html(`<i class="fa fa-comments mr-1"></i>${currentCount + 1} Comments`);
                }
            }
        });
    });

    // ---------- EDIT COMMENT FUNCTIONALITY -----------
    // Show edit form
    $(document).on('click', '.edit-comment-btn', function() {
        const commentDiv = $(this).closest('.comment');
        const commentText = commentDiv.find('.comment-text').text().trim();
        const editForm = commentDiv.find('.edit-comment-form');
        
        // Set current text in textarea
        editForm.find('textarea').val(commentText);
        
        // Hide comment text and show edit form
        commentDiv.find('.comment-text').hide();
        commentDiv.find('.comment-actions').hide();
        editForm.show();
    });

    // Cancel edit
    $(document).on('click', '.cancel-edit-btn', function() {
        const commentDiv = $(this).closest('.comment');
        
        // Hide edit form and show comment text
        commentDiv.find('.edit-comment-form').hide();
        commentDiv.find('.comment-text').show();
        commentDiv.find('.comment-actions').show();
    });

    // Save edit
    $(document).on('click', '.save-edit-btn', function() {
        const commentDiv = $(this).closest('.comment');
        const commentId = commentDiv.data('comment-id');
        const content = commentDiv.find('.edit-comment-form textarea').val().trim();
        
        if(!content) return; // Don't save empty comments
        
        $.ajax({
            url: `/comment/comment/${commentId}/edit`,
            method: 'POST',
            data: { content: content,
        _token: document.querySelector('meta[name="csrf-token-edit"]').getAttribute('content')
             },
            success: function(data) {
                if(data.success) {
                    // Update the comment text
                    commentDiv.find('.comment-text').text(data.comment.content);
                    
                    // Hide edit form and show updated comment
                    commentDiv.find('.edit-comment-form').hide();
                    commentDiv.find('.comment-text').show();
                    commentDiv.find('.comment-actions').show();
                }
            }
        });
    });

    // ---------- DELETE COMMENT FUNCTIONALITY -----------
    $(document).on('click', '.delete-comment-btn', function() {
        if(!confirm('Are you sure you want to delete this comment?')) return;
        
        const commentDiv = $(this).closest('.comment');
        const commentId = commentDiv.data('comment-id');
        
        $.ajax({
            
            url: `/comment/comment/${commentId}/delete`,
            method: 'POST',
            data: {
        _token: document.querySelector('meta[name="csrf-token-delete"]').getAttribute('content')
                 },
            success: function(data) {
                if(data.success) {
                    // Remove the comment from DOM
                    commentDiv.fadeOut(300, function() {
                        $(this).remove();
                        
                        // Update comment count
                        const postDiv = commentDiv.closest('.blog_item');
                        const commentCountElement = postDiv.find('.text-muted:contains("Comments")');
                        const currentCount = parseInt(commentCountElement.text().match(/\d+/)[0]) || 0;
                        
                        if(currentCount > 0) {
                            commentCountElement.html(`<i class="fa fa-comments mr-1"></i>${currentCount - 1} Comments`);
                        }
                        
                        // If no more comments, add the "no comments" message
                        const commentsSection = postDiv.find('.comments-section');
                        if(commentsSection.find('.comment').length === 0) {
                            commentsSection.append(`
                                <div class="no-comments">
                                    No comments yet. Be the first to share your thoughts!
                                </div>
                            `);
                        }
                    });
                }
            }
        });
    });
});
</script>
</body>
</html>